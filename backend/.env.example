# Gemini Live Avatar - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ============================================================
# GEMINI API CONFIGURATION
# ============================================================
# Google AI Developer API Key (https://makersuite.google.com/app/apikey)
GEMINI_API_KEY=your_api_key_here

# Model to use (default: gemini-2.5-flash-native-audio-preview-09-2025)
MODEL=models/gemini-2.5-flash-native-audio-preview-09-2025

# ============================================================
# SERVER CONFIGURATION
# ============================================================
# Port for main WebSocket server
BACKEND_PORT=8080

# Host binding (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
BACKEND_HOST=0.0.0.0

# Port for health check endpoint
HEALTH_CHECK_PORT=8081

# Enable debug logging (true/false)
DEBUG=false

# ============================================================
# SECURITY CONFIGURATION
# ============================================================
# Comma-separated list of allowed origins for CORS
# Local: http://localhost:8000,http://localhost:8080
# Cloud: https://your-project.web.app,https://your-custom-domain.com
ALLOWED_ORIGINS=http://localhost:8000,http://localhost:8080

# Allow requests with no Origin header (MUST be false in production!)
# Local: true (for direct browser access)
# Cloud: false (security requirement)
ALLOW_NO_ORIGIN=true

# ============================================================
# FIREBASE AUTHENTICATION (Cloud Only)
# ============================================================
# Firebase project ID for token verification
# Leave empty for local development (no auth)
# Cloud: your-firebase-project-id
FIREBASE_PROJECT_ID=

# Require Firebase authentication (true/false)
# Local: false
# Cloud: true
REQUIRE_AUTH=false

# ============================================================
# RATE LIMITING
# ============================================================
# Maximum connections per IP per minute
MAX_CONNECTIONS_PER_MINUTE=10

# Maximum concurrent connections total
MAX_CONCURRENT_CONNECTIONS=100

# Rate limit time window in seconds
RATE_LIMIT_WINDOW_SECONDS=60

# ============================================================
# CLOUD RUN CONFIGURATION (Auto-detected)
# ============================================================
# These are automatically set by Cloud Run, no need to configure
# K_SERVICE=gemini-avatar-backend
# K_REVISION=gemini-avatar-backend-00001-abc
# K_CONFIGURATION=gemini-avatar-backend
# PORT=8080 (Cloud Run overrides BACKEND_PORT)

# ============================================================
# NOTES
# ============================================================
# Local Development:
#   - Set ALLOWED_ORIGINS to localhost URLs
#   - Set ALLOW_NO_ORIGIN=true for easier testing
#   - Set REQUIRE_AUTH=false (no Firebase setup needed)
#   - Use your personal GEMINI_API_KEY
#
# Cloud Production:
#   - Set ALLOWED_ORIGINS to your Firebase/production domains
#   - Set ALLOW_NO_ORIGIN=false (security requirement)
#   - Set REQUIRE_AUTH=true (enforce user authentication)
#   - Store GEMINI_API_KEY in Google Secret Manager
#   - Set FIREBASE_PROJECT_ID to your Firebase project
